---
import Layout from "../../layouts/Layout.astro";
import imagenDefault from "../../assets/default_investigador/imagen_default_1.png"

import { getInvestigadorPorId } from "../../lib/investigadores.js";
const { id } = Astro.params;
console.log('ID recibido en la ruta:', id);
const investigador = await getInvestigadorPorId(id);
console.log('Investigador obtenido:', investigador);
---

<Layout>
  <main class="mt-20">

    {
      investigador && (
        <div class="container grid grid-cols-2 lg:grid-cols-2 gap-8 px-6 sm:px-6 md:px-12 lg:px-20">
    
    <div class="mt-8 p-6 text-center rounded-lg shadow-none bg-white flex items-center justify-center">
      <div>
        <p class="text-center text-lg sm:text-xl md:text-2xl lg:text-5xl font-bold text-gray-900">
          <span class="text-xs md:text-[24px] lg:text-lg xl:text-6xl font-bold bg-clip-text text-transparent" style="background-image: linear-gradient(to right, #16182D, #283886);">
            {investigador.nombre}
          </span>
        </p>
        <p class="mt-4 text-center text-xs sm:text-[12px] md:text-lg lg:text-2xl text-gray-700">
          {investigador.cargo}
        </p>
      </div>
    </div>

    
    <div class="flex justify-center items-center relative bg-white py-10 sm:py-30 md:py-8 lg:py-5">
      
       <div class="mt-1 sm:mt-2 h-35 w-35 sm:h-20 sm:w-20 md:h-50 md:w-50 lg:w-105 lg:h-105 border-none bg-[#57252509] shadow-lg rounded-full  absolute animate-bounce"></div>
      
      <div class="mt-1 sm:mt-2 h-32 w-32 sm:h-15 sm:w-15 md:h-48 md:w-48 lg:w-100 lg:h-100 border-4 border-dashed border-[#2E8B57] rounded-full relative animate-bounce-spin"></div>
        <img src={investigador.foto || imagenDefault.src} alt="Imagen animada" class="rounded-full w-30 h-30 md:w-46 md:h-46 lg:w-96 lg:h-96 object-cover border-4 border-white shadow-lg -mb-0.5  md:mb-6 lg:mb-10 animate-bounce absolute sm:translate-y-4 md:translate-y-4 lg:translate-y-6" />
    </div>

  </div>
      )
    }

    <section id="investigador_seleccionado" class="py-8 bg-white text-center relative z-10">
      <div class="container mx-auto">
        <div class="text-black">
          {
            investigador ? (
              <section class="p-8 max-w-3xl mx-auto">
                <p>
                  <strong>Cargo:</strong> {investigador.cargo}
                </p>
                <p>
                  <strong>Correo:</strong> {investigador.correo}
                </p>
                <p>
                  <strong>Biograf√≠a:</strong>{" "}
                  {investigador.bio || "No disponible"}
                </p>
              </section>
            ) : (
              <p class="text-center text-red-600 mt-20">
                Investigador no encontrado.
              </p>
            )
          }
        </div>
      </div>
    </section>
  </main>
</Layout>


<style>
  @keyframes zoom {
    from {
      transform: scale(1.1);
    }
    to {
      transform: scale(1);
    }
  }

  .animate-zoom {
    animation: zoom 3s ease-in-out forwards;
  }

  @keyframes bounce {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-20px);
    }
  }

  .animate-bounce {
    animation: bounce 5s infinite ease-in-out;
  }

  @keyframes spin-slow {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  .animate-spin-slow {
    animation: spin-slow 50s linear infinite;
  }

  
  @keyframes bounceAndSpin {
  0%, 100% {
    transform: translateY(0) rotate(0deg);
  }
  50% {
    transform: translateY(-20px) rotate(20deg); 
  }
}

.animate-bounce-spin {
  animation: bounceAndSpin 5s infinite ease-in-out;
}
</style>

